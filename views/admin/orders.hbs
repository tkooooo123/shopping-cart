<div class="d-flex justify-content-between align-items-center p-3">
    <ul class="nav nav-tabs my-4">
        <li class="nav-item">
            <a class="nav-link {{#ifCond route 'Products'}}active{{/ifCond}}" href="/admin/products">Products</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {{#ifCond route 'categories'}}active{{/ifCond}}" href="/admin/categories">Categories</a>
        </li>
        <li class="nav-item">
            <a class="nav-link {{#ifCond route 'orders'}}active{{/ifCond}}" href="/admin/orders">Orders</a>
        </li>
    </ul>

    <div class="d-flex justify-content-between align-items-center" style="width: 500px;">
        <a href="/admin/orders">All</a>
        <a href="">Canceled</a>
        <form action="/admin/orders" onchange="submit()" class="d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <label for="payment">Payment</label>
                <select name="payment" id="payment" class="form-select">
                    <option value="all">All</option>
                    <option value="0" {{#ifCond payment '0' }}selected{{/ifCond}}>Unpaid</option>
                    <option value="1" {{#ifCond payment '1' }}selected{{/ifCond}}>Paid</option>
                </select>
            </div>
            <div class="d-flex align-items-center">
                <label for="shipment">Shipment</label>
                <select name="shipment" id="shipment" class="form-select">
                    <option value="all">All</option>
                    <option value="0" {{#ifCond shipment '0' }}selected{{/ifCond}}>Unshipped</option>
                    <option value="1" {{#ifCond shipment '1' }}selected{{/ifCond}}>Shipped</option>
                </select>
            </div>


        </form>

    </div>

</div>


<div class="contianer p-5">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">UserID</th>
                <th scope="col">Amount</th>

                <th scope="col">Payment</th>
                <th scope="col">Shipment</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        {{#each orders}}
        <tbody>
            <tr>
                <td>{{this.id}}</td>
                <td>{{this.userId}}</td>
                <td>$ {{this.amount}}</td>
                <td>
                    {{#ifCond this.payment_status '0'}}
                    <form action="/orders/{{this.id}}/payment">
                        <button class="btn btn-primary">Unpaid</button>
                    </form>
                    {{else}}
                    {{#ifCond this.payment_status '1'}}
                    Paid
                    {{else}}
                    Canceled
                    {{/ifCond}}
                    {{/ifCond}}
                </td>
                <td>
                    {{#ifCond this.shipping_status '0'}}
                    UnShipped
                    {{else}}
                    {{#ifCond this.payment_status '1'}}
                    Shipped
                    {{else}}
                    Canceled
                    {{/ifCond}}
                    {{/ifCond}}
                </td>
                <td>
                    <div class="d-flex justify-content-center">
                        <form action="/admin/orders/{{this.id}}">
                            <button class="btn btn-link"> Edit</button>
                        </form>
                        <form action="/admin/orders/{{this.id}}/cancel?_method=PUT" method="POST">
                            <button class="btn btn-cancel"> Cancel</button>
                        </form>

                    </div>



                </td>
            </tr>

        </tbody>
        {{/each}}
    </table>

</div>
<div class="d-flex justify-content-center">
    <nav class="mt-3" aria-label="page navigation">
        <ul class="pagination">
            <li class="page-item {{#ifCond pagination.currentPage 1}}disabled{{/ifCond}}">
                <a class="page-link" href="/admin/orders?page={{pagination.prev}}"
                    aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            {{#each pagination.pages}}
            {{#ifCond this ../pagination.currentPage}}
            <li class="page-item active"><a class="page-link" href="#">{{this}}</a></li>
            {{else}}
            <li class="page-item">
                <a class="page-link" href="/admin/orders?page={{this}}">{{this}}</a>
            </li>
            {{/ifCond}}
            {{/each}}
            <li class="page-item {{#ifCond pagination.currentPage pagination.totalPage}}disabled{{/ifCond}}">
                <a class="page-link" href="/admin/orders?page={{pagination.next}}"
                    aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>